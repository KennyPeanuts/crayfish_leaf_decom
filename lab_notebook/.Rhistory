setwd("~/current_research/crayfish_leaf_decom/lab_notebook")
ysi <- read.table("./data/tank_YSI.csv", header = T, sep = ",")
chl <- read.table("./data/tank_chl.csv", header = T, sep = ",")
treat <- read.table("./data/tank_map.csv", header = T, sep = ",")
### Merge tank map with chem data
chl <- merge(chl, treat, by = "tank")
Three of the chl measurement read below 0, I removed these values from the analysis with the code below
chl.trunk <- chl
chl.trunk$Chl[chl.trunk$Chl < 0 ] <- NA
#### Create days.elapsed
days.elapsed <- as.numeric(as.Date(chl.trunk$Date) - as.Date("2016-06-03"))
### Summarize Chl by Day
(chl.mod <- lmer(Chl ~ 1 + days.elapsed * treatment + block + (1|tank), data = chl.trunk))
library("lmerTest", lib.loc="~/Library/R/3.1/library")
(chl.mod <- lmer(Chl ~ 1 + days.elapsed * treatment + block + (1|tank), data = chl.trunk))
anova(chl.mod)
anova(lm(Chl ~ days.elapsed * treatment * block, data = chl.trunk))
anova(lm(Chl ~ 1 + days.elapsed * treatment * block, data = chl.trunk))
plot(Chl ~ days.elapsed, data = chl.trunk)
plot(Chl ~ treatment, data = chl.trunk)
ordered.treat <- factor(chl.trunk$treatment, levels = c("N", "I", "L", "E", "H"))
plot(Chl ~ ordered.treat, data = chl.trunk)
plot(Chl ~ days.elapsed, data = chl.trunk)
plot(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "N")
points(Chl ~ days.elapsed + 1, data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
plot(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "N", pch = 19, col = "black", ylim = c(0, 15))
plot(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "N", pch = 19, col = "black", ylim = c(0, 50))
points(Chl ~ days.elapsed + 1, data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~ (days.elapsed + 1), data = chl.trunk, subset = treatment == "E", pch = 19, col = "light blue")
points(Chl ~ (1 + days.elapsed), data = chl.trunk, subset = treatment == "E", pch = 19, col = "light blue")
plot(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "N", pch = 19, col = "black", ylim = c(0, 50))
points(Chl ~ (days.elapsed + 1), data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~ (1 + days.elapsed), data = chl.trunk, subset = treatment == "E", pch = 19, col = "light blue")
days.elapsed + 1
points(Chl ~ sqrt(days.elapsed), data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
plot(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "N", pch = 19, col = "black", ylim = c(0, 50))
points(Chl ~ sqrt(days.elapsed), data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~ 1 + (days.elapsed), data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~ 5 + (days.elapsed), data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~  (days.elapsed + 5), data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~  (days.elapsed * 5), data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~  (days.elapsed^2), data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~  (days.elapsed^0.5), data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~  (days.elapsed + 1), data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "E", pch = 19, col = "light blue")
plot(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "N", pch = 19, col = "black", ylim = c(0, 50))
points(Chl ~  days.elapsed, data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "E", pch = 19, col = "light blue")
plot(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "N", pch = 1, col = "black", ylim = c(0, 50))
points(Chl ~  days.elapsed, data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "E", pch = 19, col = "light blue")
points(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "E", pch = 19, col = "red")
plot(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "N", pch = 1, col = "black", ylim = c(0, 50))
points(Chl ~  days.elapsed, data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "E", pch = 19, col = "red")
plot(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "N", pch = 1, col = "black", ylim = c(0, 50))
points(Chl ~  days.elapsed, data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "L", pch = 19, col = "red")
points(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "E", pch = 19, col = "green")
points(Chl ~ days.elapsed, data = chl.trunk, subset = treatment == "H", pch = 19, col = "black")
plot(Chl ~ jitter(days.elapsed, 1), data = chl.trunk, subset = treatment == "N", pch = 1, col = "black", ylim = c(0, 50))
plot(Chl ~ jitter(days.elapsed, 0.1), data = chl.trunk, subset = treatment == "N", pch = 1, col = "black", ylim = c(0, 50))
plot(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "N", pch = 1, col = "black", ylim = c(0, 50))
points(Chl ~  jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "L", pch = 19, col = "red")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "E", pch = 19, col = "green")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "H", pch = 19, col = "black")
plot(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "N", pch = 1, col = "black", ylim = c(0, 100))
points(Chl ~  jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "L", pch = 19, col = "red")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "E", pch = 19, col = "green")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "H", pch = 19, col = "black")
plot(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "N", pch = 1, col = "black", ylim = c(0, 75))
points(Chl ~  jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "L", pch = 19, col = "red")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "E", pch = 19, col = "green")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "H", pch = 19, col = "black")
plot(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "N", pch = 1, col = "black", ylim = c(0, 60))
points(Chl ~  jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "L", pch = 19, col = "red")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "E", pch = 19, col = "green")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "H", pch = 19, col = "black")
legend(0, 60, c("Native Only", "Invasive Only", "Low Invasive", "Med. Invasive", "High Invasive"), pch = c(1, 19, 19, 19, 19), col = c("black", "blue", "red", "green", "black"))
plot(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "N", pch = 1, col = "black", ylim = c(0, 60))
points(Chl ~  jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "L", pch = 19, col = "green")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "E", pch = 19, col = "yellow")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "H", pch = 19, col = "red")
legend(0, 60, c("Native Only", "Invasive Only", "Low Invasive", "Med. Invasive", "High Invasive"), pch = c(1, 19, 19, 19, 19), col = c("black", "blue", "green", "yellow", "red"))
plot(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "N", pch = 1, col = "black", ylim = c(0, 60), xlab = "Day of Experiment", ylab = expression(paste("Chlorophyll Conc. (", mu, "g L"^{-1}, ")")))
points(Chl ~  jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "I", pch = 19, col = "blue")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "L", pch = 19, col = "green")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "E", pch = 19, col = "yellow")
points(Chl ~ jitter(days.elapsed, 0.5), data = chl.trunk, subset = treatment == "H", pch = 19, col = "red")
legend(0, 60, c("Native Only", "Invasive Only", "Low Invasive", "Med. Invasive", "High Invasive"), pch = c(1, 19, 19, 19, 19), col = c("black", "blue", "green", "yellow", "red"))
dev.copy(jpeg, "./output/chl_by_day.jpg")
dev.off()
tapply(chl.trunk$Chl, chl.trunk$Date, sd)
tapply(chl.trunk$Chl, chl.trunk$Date, sd, na.rm = T)
tapply(chl.trunk$Chl, chl.trunk$Date, summary)
tapply(chl.trunk$Chl, chl.trunk$Date, sd, na.rm = T)
ordered.treat <- factor(chl.trunk$treatment, levels = c("N", "I", "L", "E", "H"))
par(las = 1, mar = c(4, 5, 2, 2))
plot(Chl ~ ordered.treat, data = chl.trunk, subset = Date == "2016-06-03", ylim = c(0, 50), ylab = expression(paste("Chlorophyll Concentration (", mu, "g L"^{-1}, ")")), xlab = " ", col = c("white", "gray40", "cadetblue2", "deepskyblue", "blue3"))
text(4, 50, "3 June")
dev.copy(jpeg, "./output/plots/chl_treat_T0.jpg")
dev.off()
![Plot of Chl by treatment on T0](../output/plots/chl_treat_T0.jpg)
par(las = 1, mar = c(4, 5, 2, 2))
plot(Chl ~ ordered.treat, data = chl.trunk, subset = Date == "2016-06-16", ylim = c(0, 50), ylab = expression(paste("Chlorophyll Concentration (", mu, "g L"^{-1}, ")")), xlab = " ", col = c("white", "gray40", "cadetblue2", "deepskyblue", "blue3"))
text(4, 50, "16 June")
dev.copy(jpeg, "./output/plots/chl_treat_T1.jpg")
dev.off()
![Plot of Chl by treatment on T1](../output/plots/chl_treat_T1.jpg)
par(las = 1, mar = c(4, 5, 2, 2))
plot(Chl ~ ordered.treat, data = chl.trunk, subset = Date == "2016-06-30", ylim = c(0, 50), ylab = expression(paste("Chlorophyll Concentration (", mu, "g L"^{-1}, ")")), xlab = " ", col = c("white", "gray40", "cadetblue2", "deepskyblue", "blue3"))
text(4, 50, "30 June")
dev.copy(jpeg, "./output/plots/chl_treat_T2.jpg")
dev.off()
![Plot of Chl by treatment on T2](../output/plots/chl_treat_T2.jpg)
(chl.mod <- lmer(log(Chl) ~ 1 + days.elapsed * treatment + block + (1|tank), data = chl.trunk))
anova(chl.mod)
plot(chl.mod)
(chl.mod <- lmer(Chl ~ 1 + days.elapsed * treatment + block + (1|tank), data = chl.trunk))
plot(chl.mod)
(chl.mod <- lmer(log10(Chl) ~ 1 + days.elapsed * treatment + block + (1|tank), data = chl.trunk))
plot(chl.mod)
anova(chl.mod)
(chl.mod <- lmer(log(Chl) ~ 1 + days.elapsed * treatment + block + (1|tank), data = chl.trunk))
anova(chl.mod)
summary(chl.mod)
TukeyHSD(chl.mod)
print(summary(glht(chl.mod, linfct=mcp(experiment="Tukey", factor="Tukey"))))
print(summary(chl.mod(m, linfct=mcp(experiment="Tukey", factor="Tukey"))))
summary(chl.mod)
print(summary(glht(m, linfct=mcp(experiment="Tukey", factor="Tukey"))))
print(summary(chl.mod(m, linfct=mcp(experiment="Tukey", factor="Tukey"))))
summary(chl.mod(m, linfct=mcp(experiment="Tukey", factor="Tukey")))
summary(glht(m, linfct=mcp(experiment="Tukey", factor="Tukey")))
