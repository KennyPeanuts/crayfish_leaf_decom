yintercept = 0
) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
x = " ",
y = expression("Ergosterol Mass Difference ("*mu*"g / leaf disc)"),
size = 0.5
) +
scale_x_discrete(
labels = c(" ", " ")
) +
theme_classic(
axis.title.y = element_text( size = rel(0.5))
)
erg.by.week <- ggplot(erg, mapping = aes(y = ErgLeaf, x = factor(Weeks))) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
y = expression("Ergosterol Mass ("*mu*"g / leaf disc)"),
x = "Incubation Time"
) +
theme_classic()
#erg_by_week_f6 <-
ggarrange(erg.diff.by.week, erg.by.week, ncol = 1, nrow = 2)
erg.diff.by.week <- ggplot(erg.diff.comb, mapping = aes(y = erg.diff.resp, x = weeks.comb)) +
geom_hline(
yintercept = 0
) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
x = " ",
y = expression("Ergosterol Mass Difference ("*mu*"g / leaf disc)"),
) +
scale_x_discrete(
labels = c(" ", " ")
) +
theme_classic(
axis.title.y = element_text(size = 10)
)
erg.diff.by.week <- ggplot(erg.diff.comb, mapping = aes(y = erg.diff.resp, x = weeks.comb)) +
geom_hline(
yintercept = 0
) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
x = " ",
y = expression("Ergosterol Mass Difference ("*mu*"g / leaf disc)"),
) +
scale_x_discrete(
labels = c(" ", " ")
) +
theme_classic(
axis.title.y = element_text(size = 10)
)
erg.by.week <- ggplot(erg, mapping = aes(y = ErgLeaf, x = factor(Weeks))) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
y = expression("Ergosterol Mass ("*mu*"g / leaf disc)"),
x = "Incubation Time"
) +
theme_classic()
#erg_by_week_f6 <-
ggarrange(erg.diff.by.week, erg.by.week, ncol = 1, nrow = 2)
erg.diff.by.week <- ggplot(erg.diff.comb, mapping = aes(y = erg.diff.resp, x = weeks.comb)) +
geom_hline(
yintercept = 0
) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
x = " ",
y = expression("Ergosterol Mass Difference ("*mu*"g / leaf disc)"),
) +
scale_x_discrete(
labels = c(" ", " ")
) +
theme_classic(
base_text = 10)
erg.diff.by.week <- ggplot(erg.diff.comb, mapping = aes(y = erg.diff.resp, x = weeks.comb)) +
geom_hline(
yintercept = 0
) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
x = " ",
y = expression("Ergosterol Mass Difference ("*mu*"g / leaf disc)"),
) +
scale_x_discrete(
labels = c(" ", " ")
) +
theme_classic(
base_size = 10)
erg.diff.by.week <- ggplot(erg.diff.comb, mapping = aes(y = erg.diff.resp, x = weeks.comb)) +
geom_hline(
yintercept = 0
) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
x = " ",
y = expression("Ergosterol Mass Difference ("*mu*"g / leaf disc)")
) +
scale_x_discrete(
labels = c(" ", " ")
) +
theme_classic(
axis.title.x = element_text(size = rel(0.5))
)
erg.diff.by.week <- ggplot(erg.diff.comb, mapping = aes(y = erg.diff.resp, x = weeks.comb)) +
geom_hline(
yintercept = 0
) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
x = " ",
y = expression("Ergosterol Mass Difference ("*mu*"g / leaf disc)")
) +
scale_x_discrete(
labels = c(" ", " ")
) +
theme_classic(
axis.title.x = element_text(size = 1)
)
erg.diff.by.week <- ggplot(erg.diff.comb, mapping = aes(y = erg.diff.resp, x = weeks.comb)) +
geom_hline(
yintercept = 0
) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
x = " ",
y = expression("Ergosterol Mass Difference ("*mu*"g / leaf disc)")
) +
scale_x_discrete(
labels = c(" ", " ")
) +
theme_classic(
base_size = 10
)
erg.by.week <- ggplot(erg, mapping = aes(y = ErgLeaf, x = factor(Weeks))) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
y = expression("Ergosterol Mass ("*mu*"g / leaf disc)"),
x = "Incubation Time"
) +
theme_classic()
#erg_by_week_f6 <-
ggarrange(erg.diff.by.week, erg.by.week, ncol = 1, nrow = 2)
erg.diff.by.week <- ggplot(erg.diff.comb, mapping = aes(y = erg.diff.resp, x = weeks.comb)) +
geom_hline(
yintercept = 0
) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
x = " ",
y = expression("Ergosterol Mass Difference ("*mu*"g / leaf disc)")
) +
scale_x_discrete(
labels = c(" ", " ")
) +
theme_classic(
base_size = 25
)
erg.by.week <- ggplot(erg, mapping = aes(y = ErgLeaf, x = factor(Weeks))) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
y = expression("Ergosterol Mass ("*mu*"g / leaf disc)"),
x = "Incubation Time"
) +
theme_classic()
#erg_by_week_f6 <-
ggarrange(erg.diff.by.week, erg.by.week, ncol = 1, nrow = 2)
erg.diff.by.week <- ggplot(erg.diff.comb, mapping = aes(y = erg.diff.resp, x = weeks.comb)) +
geom_hline(
yintercept = 0
) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
x = " ",
y = expression("Ergosterol Mass Difference ("*mu*"g / leaf disc)")
) +
scale_x_discrete(
labels = c(" ", " ")
) +
theme_classic(
base_size = 5
)
erg.by.week <- ggplot(erg, mapping = aes(y = ErgLeaf, x = factor(Weeks))) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
y = expression("Ergosterol Mass ("*mu*"g / leaf disc)"),
x = "Incubation Time"
) +
theme_classic()
#erg_by_week_f6 <-
ggarrange(erg.diff.by.week, erg.by.week, ncol = 1, nrow = 2)
erg.diff.by.week <- ggplot(erg.diff.comb, mapping = aes(y = erg.diff.resp, x = weeks.comb)) +
geom_hline(
yintercept = 0
) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
x = " ",
y = expression("Ergosterol Mass Difference ("*mu*"g / leaf disc)")
) +
scale_x_discrete(
labels = c(" ", " ")
) +
theme_classic(
axis.title = element_text(size = 8)
)
erg.diff.by.week <- ggplot(erg.diff.comb, mapping = aes(y = erg.diff.resp, x = weeks.comb)) +
geom_hline(
yintercept = 0
) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
x = " ",
y = expression("Ergosterol Mass Difference ("*mu*"g / leaf disc)")
) +
scale_x_discrete(
labels = c(" ", " ")
) +
theme(
axis.title = element_text(size = 8)
)
erg.by.week <- ggplot(erg, mapping = aes(y = ErgLeaf, x = factor(Weeks))) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
y = expression("Ergosterol Mass ("*mu*"g / leaf disc)"),
x = "Incubation Time"
) +
theme_classic()
#erg_by_week_f6 <-
ggarrange(erg.diff.by.week, erg.by.week, ncol = 1, nrow = 2)
erg.diff.by.week <- ggplot(erg.diff.comb, mapping = aes(y = erg.diff.resp, x = weeks.comb)) +
geom_hline(
yintercept = 0
) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
x = " ",
y = expression("Ergosterol Difference ("*mu*"g / leaf disc)")
) +
scale_x_discrete(
labels = c(" ", " ")
) +
theme_classic()
erg.by.week <- ggplot(erg, mapping = aes(y = ErgLeaf, x = factor(Weeks))) +
geom_jitter(
col = 8,
width = 0.05
) +
stat_summary(
fun = mean,
fun.min = function(x) mean(x) - sd(x),
fun.max = function(x) mean(x) + sd(x)
) +
labs(
y = expression("Ergosterol Mass ("*mu*"g / leaf disc)"),
x = "Incubation Time"
) +
theme_classic()
#erg_by_week_f6 <-
ggarrange(erg.diff.by.week, erg.by.week, ncol = 1, nrow = 2)
erg_by_week_f6 <- ggarrange(erg.diff.by.week, erg.by.week, ncol = 1, nrow = 2)
ggexport(erg_by_week_f6, width = 7, height = 7, filename = "erg_by_week_f6.pdf")
0.00096 * 1000
setwd("~/current_research/crayfish_leaf_decom/lab_notebook")
library("ggpubr")
library("tinyverse")
library("tidyverse")
leaf.initial <- read.table("./data/initial_leaf_mass.csv", header = T, sep = ",")
leaf.T1 <- read.table("./data/T1_leaf_mass.csv", header = T, sep = ",")
leaf.T2 <- read.table("./data/T2_leaf_mass.csv", header = T, sep = ",")
leaf.T3 <- read.table("./data/T3_leaf_mass.csv", header = T, sep = ",")
treat <- read.table("./data/tank_map.csv", header = T, sep = ",")
leaf.T1 <- merge(leaf.T1, treat, by.x = "BagTank", by.y = "tank")
leaf.T2 <- merge(leaf.T2, treat, by.x = "BagTank", by.y = "tank")
leaf.T3 <- merge(leaf.T3, treat, by.x = "BagTank", by.y = "tank")
initialDM <- leaf.initial$CrucLeafDM - leaf.initial$CrucMass
initialAM <- leaf.initial$CrucAM - leaf.initial$CrucMas
AFDM <- initialDM - initialAM
leaf.initial <- data.frame(leaf.initial, AFDM)
mean.initial.AFDM <- mean(AFDM)
T1DM <- leaf.T1$CrucLeafDM - leaf.T1$CrucMass
T1AM <- leaf.T1$CrucAM - leaf.T1$CrucMass
AFDM <- T1DM - T1AM
leaf.T1 <- data.frame(leaf.T1, AFDM)
T1DM <- leaf.T1$CrucLeafDM - leaf.T1$CrucMass
T1AM <- leaf.T1$CrucAM - leaf.T1$CrucMass
AFDM <- T1DM - T1AM
leaf.T1 <- data.frame(leaf.T1, AFDM)
T2DM <- leaf.T2$CrucLeafDM - leaf.T2$CrucMass
T2AM <- leaf.T2$CrucAM - leaf.T2$CrucMass
AFDM <- T2DM - T2AM
leaf.T2 <- data.frame(leaf.T2, AFDM)
T3DM <- leaf.T3$CrucLeafDM - leaf.T3$CrucMass
T3AM <- leaf.T3$CrucAM - leaf.T3$CrucMass
AFDM <- T3DM - T3AM
leaf.T3 <- data.frame(leaf.T3, AFDM)
# create a single data frame with the T1 - T3 AFDM
leaf.AFDM.raw <- rbind(leaf.T1, leaf.T2, leaf.T3)
# create a single data frame with the T1 - T3 AFDM
leaf.AFDM.raw <- rbind(leaf.T1, leaf.T2, leaf.T3)
leaf.T3 <- data.frame(leaf.T3, AFDM)
AFDM <- T3DM - T3AM
leaf.initial <- read.table("./data/initial_leaf_mass.csv", header = T, sep = ",")
leaf.T1 <- read.table("./data/T1_leaf_mass.csv", header = T, sep = ",")
leaf.T2 <- read.table("./data/T2_leaf_mass.csv", header = T, sep = ",")
leaf.T3 <- read.table("./data/T3_leaf_mass.csv", header = T, sep = ",")
treat <- read.table("./data/tank_map.csv", header = T, sep = ",")
leaf.T1 <- merge(leaf.T1, treat, by.x = "BagTank", by.y = "tank")
leaf.T2 <- merge(leaf.T2, treat, by.x = "BagTank", by.y = "tank")
leaf.T3 <- merge(leaf.T3, treat, by.x = "BagTank", by.y = "tank")
initialDM <- leaf.initial$CrucLeafDM - leaf.initial$CrucMass
initialAM <- leaf.initial$CrucAM - leaf.initial$CrucMas
AFDM <- initialDM - initialAM
leaf.initial <- data.frame(leaf.initial, AFDM)
mean.initial.AFDM <- mean(AFDM)
T1DM <- leaf.T1$CrucLeafDM - leaf.T1$CrucMass
T1AM <- leaf.T1$CrucAM - leaf.T1$CrucMass
AFDM <- T1DM - T1AM
leaf.T1 <- data.frame(leaf.T1, AFDM)
T2DM <- leaf.T2$CrucLeafDM - leaf.T2$CrucMass
T2AM <- leaf.T2$CrucAM - leaf.T2$CrucMass
AFDM <- T2DM - T2AM
leaf.T2 <- data.frame(leaf.T2, AFDM)
T3DM <- leaf.T3$CrucLeafDM - leaf.T3$CrucMass
T3AM <- leaf.T3$CrucAM - leaf.T3$CrucMass
AFDM <- T3DM - T3AM
leaf.T3 <- data.frame(leaf.T3, AFDM)
# create a single data frame with the T1 - T3 AFDM
leaf.AFDM.raw <- rbind(leaf.T1, leaf.T2, leaf.T3)
# remove tanks 3 and 4 from the dataset
leaf.AFDM <- leaf.AFDM.raw[leaf.AFDM.raw$BagTank != 3 & leaf.AFDM.raw$BagTank != 4,]
# convert to percent remaining in the tank
percAFDM.rem <- (leaf.AFDM$AFDM / mean.initial.AFDM) * 100
# calculate the time in the tank
#date <- c(as.Date(leaf.T1$Date), as.Date(leaf.T2$Date), as.Date(leaf.T3$Date))
#time.step <- c(rep("T1", 30), rep("T2", 30), rep("T3", 30))
# calculate the number of days elapsed
days.elapsed <- as.Date(leaf.AFDM$Date) - as.Date(unique(leaf.initial$Date))
days.elapsed <- as.numeric(days.elapsed)
# add calc variables to data frame
leaf.AFDM <- data.frame(leaf.AFDM, percAFDM.rem, days.elapsed)
##### Function designation
k.tank <- function() {
k <- numeric(0)
treat <- character(0)
tank_name = unique(leaf.AFDM$BagTank)
index = seq_along(tank_name)
for(i in index) {
treat[i] <- as.character(leaf.AFDM$treatment[index == i])[1]
k[i] <- coef(summary(lm(log(leaf.AFDM$percAFDM.rem + 1)[index == i] ~ leaf.AFDM$days.elapsed[index == i])))[2, 1] # this extracts the slope (col 2, row 1) from the matrix of coefficents produced by the lm
}
data.frame(tank_name, treat, k)
}
# run the function
k.list <- k.tank()
k.list
~~~~
#### Analyze k by treatment
anova(lm(k ~ treat, data = k.list))
