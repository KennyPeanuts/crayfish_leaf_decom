setwd("~/current_research/crayfish_leaf_decom/lab_notebook")
library("tidyverse") # for data analysis and ggplot graphing
library("ggpubr") # for plot creation and saving
cray.raw <- read.table("./data/crayfish_mass_raw.csv", header = T, sep = ",")
mean.mass <- cray.raw %>%
group_by(Year, Type, Tank) %>%
summarize(mean.Stocked.Mass = mean(Stocked_Mass, na.rm = T), sd.Stocked.Mass = sd(Stocked_Mass), mean.Harvested.Mass = mean(Harvested_Mass, na.rm = T), sd.Harvested.Mass = sd(Harvested_Mass), total.Harvested.Mass = sum(Harvested_Mass, na.rm = T))
tank.abundance <- cray.raw %>%
group_by(Year, Type, Tank) %>%
summarize(Abundance = unique(Abundance), Total.Abundance = unique(Total_Abundance), Invasive.Abundance = unique(Invasive_Abundance))
tank.treatment <- cray.raw %>%
group_by(Year, Type, Tank) %>%
summarize(Treatment = unique(Treatment))
cray.mean <-
left_join(mean.mass, tank.abundance)
cray.mean <-
left_join(cray.mean, tank.treatment)
cray.N <-
cray.raw %>%
group_by(Year, Type, Tank) %>%
summarize(N.initial = length(which(!is.na(Stocked_Mass))), N.final = length(which(!is.na(Harvested_Mass))))
prop.surv <- cray.N$N.final / cray.N$N.initial
cray.N <- data.frame(cray.N, prop.surv)
cray.N <-
left_join(cray.N, tank.abundance)
cray.N <-
left_join(cray.N, tank.treatment)
ind.delta.mass <- cray.mean$mean.Harvested.Mass - cray.mean$mean.Stocked.Mass
cray.mean <- data.frame(cray.mean, ind.delta.mass)
cray.mean$Treatment <- factor(cray.mean$Treatment, levels = c("Ctl_Native", "Ctl_Invasive", "Low", "Equal", "High"))
cray.mean %>%
group_by(Year, Type) %>%
summarize(mean.stocked = mean(mean.Stocked.Mass), sd.stocked = sd(mean.Stocked.Mass), min.stocked = min(mean.Stocked.Mass), max.stocked = max(mean.Stocked.Mass), N = length(mean.Stocked.Mass))
cray.mean %>%
group_by(Year, Type) %>%
summarize(mean.harvested = mean(mean.Harvested.Mass, na.rm = T), sd.harvested = sd(mean.Harvested.Mass, na.rm = T), min.harvested = min(mean.Harvested.Mass, na.rm = T), max.harvested = max(mean.Harvested.Mass, na.rm = T), N = length(mean.Harvested.Mass))
cray.N %>%
group_by(Year, Type) %>%
summarize(mean.prop.surv = mean(prop.surv, na.rm = T), sd.prop.surv = sd(prop.surv, na.rm = T), min.prop.surv = min(prop.surv, na.rm = T), max.prop.surv = max(prop.surv, na.rm = T), N = length(mean.prop.surv))
cray.N
cray.N %>%
group_by(Year, Type) %>%
summarize(mean.prop.surv = mean(prop.surv, na.rm = T), sd.prop.surv = sd(prop.surv, na.rm = T), min.prop.surv = min(prop.surv, na.rm = T), max.prop.surv = max(prop.surv, na.rm = T), N = length(prop.surv))
cray.N %>%
group_by(Year, Type, Treatment) %>%
summarize(mean.N.final = mean(N.final, na.rm = T), sd.N.final = sd(N.final, na.rm = T), min.N.final = min(N.final, na.rm = T), max.N.final = max(N.final, na.rm = T) N = length(N.final))
cray.N %>%
group_by(Year, Type, Treatment) %>%
summarize(mean.N.final = mean(N.final, na.rm = T), sd.N.final = sd(N.final, na.rm = T), min.N.final = min(N.final, na.rm = T), max.N.final = max(N.final, na.rm = T), N = length(N.final))
max(cray.mean$Tank)
cray.mean$Tank
unique(cray.mean$Tank)
cray.mean
cray.mean[Year == "2016"]
cray.mean[Year == "2016", ]
cray.mean[cray.mean$Year == "2016", ]
summary(lm(ind.delta.mass ~ Total.Abundance * Type, data = cray.mean, subset = Year == "2015"))
summary(lm(ind.delta.mass ~ Total.Abundance * Type, data = cray.mean, subset = Year == "2016"))
summary(lm(ind.delta.mass ~ Type, data = cray.mean, subset = Year == "2016"))
anova(lm(ind.delta.mass ~ Type, data = cray.mean, subset = Year == "2016"))
anova(lm(ind.delta.mass ~ Total.Abundance, data = cray.mean, subset = Year == "2016"))
summary(lm(ind.delta.mass ~ Total.Abundance, data = cray.mean, subset = Year == "2016"))
length(cray.mean$ind.delta.mass)
length(cray.mean$ind.delta.mass[cray.mean$Year == "2016"])
summary(lm(ind.delta.mass ~ Treatment, data = cray.mean, subset = Year == "2016"))
summary(lm(ind.delta.mass ~ Type, data = cray.mean, subset = Year == "2016"))
hist(cray.mean$ind.delta.mass[cray.mean$Type == "Native" & cray.mean$Year == "2015"])
hist(cray.mean$ind.delta.mass[cray.mean$Type == "Native" & cray.mean$Year == "2016"])
library("lmerTest", lib.loc="~/Library/R/4.0/library")
library("lme4") # permits linear mixed model construction
library("lmerTest") # calculates p-values from linear mixed models
delta.mass.diff <--
cray.mean >%>
group_by(Year, Tank) >%>
summarize(delta.mass.diff = ind.delta.mass[Type == "Invasive"] - ind.delta.mass[Type == "Native"])
delta.mass.diff <--
cray.mean >%>
group_by(Year, Tank) >%>
summarize(delta.mass.diff = ind.delta.mass[cray.mean$Type == "Invasive"] - ind.delta.mass[cray.mean$Type == "Native"])
cray.mean
